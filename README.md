# CLIFS - Command Line File Sharing

CLIFS is a secure file transfer utility that allows you to easily share files between machines using a simple client-server architecture. It provides secure file transfers over HTTPS with certificate pinning for enhanced security.


> [!NOTE]
> This project is an updated version of my earlier project called [cls](https://github.com/nielsjaspers/cls).
>
> CLIFS offers a simpler user experience compared to cls. It provides additional features such as automatic certificate generation, certificate fingerprint verification, and uses regular HTTP POST requests for file uploads, which is more secure and reliable than the hardcoded logic of cls.

> [!WARNING]
> This is a work in progress and is not ready for real-world use.

## Features

- Secure file transfers using HTTPS
- Self-signed certificate generation
- Certificate fingerprint verification
- Simple command-line interface
- Cross-platform support
- Configurable upload directory
- No external dependencies (beyond Go standard library)

## Installation

1. Make sure you have [Go](https://golang.org/dl/) installed (version 1.16 or later)
2. Clone this repository:
   ```bash
   git clone https://github.com/yourusername/clifs.git
   cd clifs
   ```
3. Build both client and server:
   ```bash
   go build -o bin/server ./cmd/clifs/server
   go build -o bin/client ./cmd/clifs/client
   ```

## Usage

### Starting the Server

```bash
./bin/server -port 8443 -upload-dir ./uploads -gen-cert
```

Options:
- `-port`: Port to listen on (default: 443)
- `-upload-dir`: Directory to store uploaded files (default: "uploads")
- `-gen-cert`: Generate new self-signed certificates if they don't exist

### Using the Client

1. Check server status and get fingerprint:
   ```bash
   ./bin/client -host example.com -port 8443 -check
   ```

2. Trust the server (only needed once per server):
   ```bash
   ./bin/client -host example.com -port 8443 -trust
   ```
   You'll be prompted to verify the server's certificate fingerprint.

3. Upload a file:
   ```bash
   ./bin/client -host example.com -port 8443 -path /path/to/your/file.txt
   ```

## Security

- All connections use TLS 1.3
- Certificate pinning prevents man-in-the-middle attacks
- Self-signed certificates are generated by default
- Server fingerprint verification ensures you're connecting to the intended server

## Configuration

Configuration files and certificates are stored in:
- Linux/macOS: `~/.config/clifs/`
- Windows: `%APPDATA%\clifs\`

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.